// Cenfotec e-Commerce Api
// Seguridad de Aplicaciones y Sistemas
// eComm API

// Aqui se define la funcionalidad del API

module.exports = {
  version: function () {
    return '1.0.0.0';
  },
  foo: function () {
    return 'foo call';
  },
  bar: function () {
    return 'bar';
  },
  validate_mail: function (email) {
    // inicializacion lazy
    var isValid = false;
    // expresion regular copiada de StackOverflow
    var re = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;

    // validacion Regex
    try {
      isValid = re.test(email);
    } catch (e) {
      console.log(e);
    } finally {
        return isValid;
    }
    // fin del try-catch block
  }
};
